!DOCTYPE html>
<html>
<head>
	<title>Binary Search Animation</title>
	<style>
		body {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin: 0;
			height: 100vh;
			background-color: #f7f7f7;
		}

		.container {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			height: 400px;
			width: 800px;
			margin-top: 50px;
		}

		.box {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 60px;
			width: 60px;
			border: 1px solid #000;
			margin: 5px;
			font-size: 20px;
			font-weight: bold;
			background-color: #fff;
			transition: background-color 0.3s ease;
			cursor: pointer;
		}\n\n\t	.box.active {
			background-color: #5bc0de;
			color: #fff;
		}

		#search {
			display: flex;
			align-items: center;
			margin-top: 30px;
		}

		#search input {
			height: 30px;
			border: none;
			border-bottom: 1px solid #000;
			font-size: 18px;
			margin-right: 10px;
			padding: 5px;
			outline: none;
		}

		#search button {
			height: 35px;
			width: 80px;
			border: none;
			background-color: #5cb85c;
			color: #fff;
			font-size: 18px;
			font-weight: bold;
			border-radius: 5px;
			cursor: pointer;
			outline: none;
			transition: background-color 0.3s ease;
		}

		#search button:hover {
			background-color: #449d44;
		}
	</style>
</head>
<body>
	<div class="container"></div>
	<div id="search">
		<input type="number" placeholder="Enter a Number">
		<button onclick="search()">Search</button>
	</div>
	<script>
		let arr = [];
		let size = 15;
		let start = 1;
		let end = 30;
		let target = 0;
		let isSearching = false;

		function generateRandomArray(size, start, end) {
			for (let i = 0; i < size; i++) {
				arr.push(Math.floor(Math.random() * (end - start + 1) + start));
			}
			arr.sort(function(a, b) {
				return a - b
			});
			createBoxes();
		}

		function createBoxes() {
			let container = document.querySelector('.container');
			container.innerHTML = ''
			for (let i = 0; i < arr.length; i++) {
				let box = document.createElement('div');
				box.classList.add('box');
				box.innerHTML = arr[i];
				container.appendChild(box);
			}
		}

		function search() {
			if (isSearching) {
				return;
			}
			let input = document.querySelector('input');
			if (isNaN(input.value)) {
				alert('Please enter a number');
				return;
			}
			target = parseInt(input.value);
			isSearching = true;
			binarySearch(0, arr.length - 1);
		}

		async function binarySearch(left, right) {
			if (left > right) {
				isSearching = false;
				alert('Not Found');
				return;
			}
			let mid = Math.floor((left + right) / 2);
			let boxes = document.querySelectorAll('.box');
			boxes[mid].classList.add('active');
			await new Promise(r => setTimeout(r, 500));
			if (arr[mid] === target) {
				boxes[mid].style.backgroundColor = '#5cb85c';
				boxes[mid].style.color = '#fff';
				isSearching = false;
				alert('Found at index ' + mid);
				return;
			} else if (arr[mid] < target) {
				for (let i = left; i <= mid; i++) {
					boxes[i].classList.remove('active');
				}
				await new Promise(r => setTimeout(r, 500));
				binarySearch(mid + 1, right);
			} else {
				for (let i = mid; i <= right; i++) {
					boxes[i].classList.remove('active');	}
				await new Promise(r => setTimeout(r, 500));
				binarySearch(left, mid - 1);
			}
		}

		generateRandomArray(size, start, end);
	</script>
</body>
</html>